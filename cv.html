<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Christian Stratton - CV</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Christian Stratton</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./publications.html" rel="" target="">
 <span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./presentations.html" rel="" target="">
 <span class="menu-text">Presentations</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./cv.pdf" rel="" target="">
 <span class="menu-text">CV</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
    <a href="https://github.com/StrattonCh" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="mailto:3strattonc@gmail.com" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-envelope-at"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="cv.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">CV</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<!-- header -->
<!-- summary -->
<p>Post-doctoral researcher in statistics with consulting, research, and teaching experience. Strong analytical skills pertaining to spatial statistics, Bayesian computation, and analysis of ecological data types. Research interests include: Bayesian computation, spatial statistics, species distribution modeling, modeling of wildlife disease, data visualization, and teaching techniques for data science.</p>
<!-- education -->
<p> Bozeman, MT</p>
<p>Bachelor of Science with Honors in Mathematics (focus: Statistics) December 2016</p>
<p> Bozeman, MT</p>
<p>Master of Science in Statistics May 2018</p>
<p>Bozeman, MT</p>
<p>Doctor of Philosophy in Statistics May 2022</p>
<p>Dissertation: </p>
<p>Advisors: Dr.&nbsp;Andrew Hoegh and Dr.&nbsp;Jennifer Green</p>
<!-- peer-review publications -->
<p>, A. Hoegh, T.J. Rodhouse, J.L. Green, K.M. Banner, and K.M. Irvine. “Clustering and unconstrained ordination with Dirichlet process mixture models.” In review in . </p>
<p>, K.M Irvine, K.M. Banner, E.S. Almberg, D. Bachen, and K. Smucker. “Joint spatial modeling bridges the gap between disparate disease surveillance and population monitoring efforts informing conservation of at-risk bat species.” In review in the . </p>
<p>Oram, J., K.M. Banner, , and K.M. Irvine. “Verifying species classification labels using stratified-by-species sampling reduces cost of long-term acoustic monitoring.” In review in . </p>
<p>Retel, C., A.J. Strien, K.M. Irvine, and . “Trends in plant cover derived from vegetation-plot data using ordinal zero-augmented beta regression.” In review in the . </p>
<p>, K.M. Irvine, K.M. Banner, W.J. Wright, C. Lausen, J. Rae. 2022. <a href="https://doi.org/10.1111/2041-210X.13831">“Coupling validation effort with <em>in situ</em> bioacoustic data improves estimating relative activity and occupancy for multiple species with cross-species misclassifications.”</a> , 13(6), p.&nbsp;1288 – 1303. </p>
<p>, J.L. Green, and A. Hoegh. 2021. <a href="https://doi.org/10.5070/T513146468">“Not just normal: Exploring power with Shiny apps.”</a> , 13(1), p.&nbsp;1 – 37. </p>
<p>, A.J. Sepulveda, and A. Hoegh. 2020. <a href="https://doi.org/10.1111/2041-210X.13442">“<code>msocc:</code> Fit and analyze computationally efficient multi-scale occupancy models in <code>R</code>.”</a> , 11(9), p.&nbsp;1113 – 1120. </p>
<p>Hoegh, A., K. Flagg, and . 2018. Contributed comment on Article by Bradley, Holan, and Wikle <a href="https://eds.p.ebscohost.com/abstract?site=eds&amp;scope=site&amp;jrnl=19360975&amp;AN=138950462&amp;h=fupOc1pyeH8dv67mdPoRzhYvo96LS%2bzCYNHIjAcMPojnVBydkua%2fXFU6RanU78MDh8WNMlzPVI%2fBxvaUiWvg%2bw%3d%3d&amp;crl=c&amp;resultLocal=ErrCrlNoResults&amp;resultNs=Ehost&amp;crlhashurl=login.aspx%3fdirect%3dtrue%26profile%3dehost%26scope%3dsite%26authtype%3dcrawler%26jrnl%3d19360975%26AN%3d138950462">Invited commentary on “Computationally efficient multivariate spatio-temporal models for high-dimensional count-valued data” by Jonathan R. Bradley, Scott H. Holan, and Christopher K. Wikle.</a> , 13(1), p.&nbsp;253 – 310. </p>
<p>Irvine, K.M., K.M. Banner, , W.M. Ford, and B.E. Reichert. 2022. <a href="https://doi.org/10.1002/ecs2.4142">“Statistical assessment on determining local presence of rare bat species.”</a> , 13(6), p.&nbsp;e4142. </p>
<p>Khalighifar, A., B.S. Gotthold, E. Adams, J. Barnett, L.O. Beard, E.R. Britzke, P.A. Burger, K. Chase, Z. Cordes, P.M. Cryan, E. Ferrall, C.T. Fill, S.E. Gibson, G.S. Haulton, K.M. Irvine, L.S. Katz, W.L. Kendall, C.A. Long, O.M. Aodha, T. McBurney, S. McCarthy, M.W. McKown, J. O’Keefe, L.D. Patterson, K.A. Pitcher, M. Rustand, J.L. Segers, K. Seppanen, J.L. Simers, , B.R. Straw, T.J. Weller, and B.E. Reichert. 2022. <a href="https://doi.org/10.1111/1365-2664.14280">“<em>NABat ML</em>: Utilizing deep learning to enable crowdsourced development of automated, scalable solutions for documenting North American bat populations.”</a> , 56(11), p.&nbsp;2849 – 2862. </p>
<p>Sepulveda, A.J., A. Hoegh, J.A. Gage, S.L Caldwell-Eldridge, J.M. Birch, , P.R. Hutchins, E.P. Barnhart. 2021. <a href="https://doi.org/10.3389/fevo.2021.620715">“Integrating environmental DNA results with diverse data sets to improve biosurveillance of river health.”</a> , 9, p.&nbsp;1 – 13. </p>
<p>Sepulveda, A. J., C. Schmidt, J. Amberg, P. Hutchins, , C. Mebane, M. B. Laramie, and D. S. Pilliod. 2019. <a href="https://doi.org/10.1002/ecs2.2843">“Adding invasive species biosurveillance to the U.S. Geological Survey streamgage network.”</a> , 10(8), p.&nbsp;1 – 17. </p>
<!-- peer-review tech reports -->
<!-- \textcolor{red}{Add data release for WNS vignette.} \vspace*{2mm} -->
<p>, B.R. Straw, J.H. Cox, K.M. Irvine, F.C. Tousley, and B.E. Reichert. 2023. <a href="https://doi.org/10.5066/P9H8NEOY">“Attributed North American Grid-Based Offshore Sampling Frames: U.S. Geological Survey data release.”</a> </p>
<p>, K.M. Irvine. 2022. Summertime analysis statistical report for Little Brown, Northern Long-eared, and Tricolored bat species status assessment. Chapter B in Straw, B.R, J. A. Martin, J.D Reichard, and B.E Reichert, editors. <a href="https://doi.org/10.7944/P9B4RWEU">“Analytical assessments in support of the U.S. Fish and Wildlife Service 3-Bat species status assessment. Cooperator report prepared in cooperation with the U.S. Geological Survey, United States Fish and Wildlife Service and Bat Conservation International.”</a> </p>
<p>, A. Hoegh, K. M. Irvine, K. Legg, K. McCloskey, E. Shanahan, M. Tercek, and D. Thoma. 2019. <a href="https://irma.nps.gov/DataStore/DownloadFile/631136">“Assessing spatial and temporal patterns in sagebrush steppe vegetation communities, 2012-2018: Grand Teton National Park.”</a> Natural Resource Report NPS/GRYN/NRR-2019/2020. National Park Service, Fort Collins, Colorado. </p>
<p>Irvine, K.M., and . 2021. <a href="https://doi.org/10.5066/P9XZ8D6N.">“Rangewide summertime model predictions for three bat species (, , and ) from acoustic and mist net data 2010 to 2019: US Geological Survey data release.”</a> </p>
<p>Udell, B.J., B.R. Straw, T.L. Cheng, K. Enns, W.F. Frick, B. Gotthold, K.M. Irvine, C. Lausen, S. Loeb, J.D. Reichard, T.J. Rodhouse, D. Smith, , W.E. Thogmartin, and B.E. Reichert. 2022. <a href="https://doi.org/10.5066/P92JGACB">“Status and trends of North American bats: Summer occupancy analysis 2010-2019.”</a> U.S. Fish and Wildlife Service. </p>
<p>Wessel, S.A., L. Jones, E. Kramer, , L. Shoemaker, and D. Laughlin. 2020. <a href="https://journals.uwyo.edu/index.php/uwnpsrc/article/view/6791/6301">“Predictability and stability of sagebrush-steppe restoration in a changing climate.”</a> National Park Service Annual Report Vol. 43. </p>
<!-- presentations -->
<p>, K.M. Irvine, K.M. Banner, E. Almberg, D. Bachen, and K. Smucker. “Joint spatial modeling of ecological response and disease processes improves estimator precision.” 2023. Talk given at the Joint Statistical Meetings. Toronto, Ontario, Canada. </p>
<p>, K.M. Irvine, K.M. Banner, E. Almberg, D. Bachen, and K. Smucker. “A statistical framework for integrating White-nose syndrome surveillance data and acoustic population monitoring data.”2023. Talk given to the U.S. Geological Survey Disease Coordination Group. Virtual. </p>
<p>, K.M. Irvine, K.M. Banner, E. Almberg, D. Bachen, and K. Smucker. “Leveraging WNS surveillance and NABat data improves estimation of disease spread and bat activity.” 2023. Poster presented at the Whitenose Syndrome National Meeting. Palm Springs, California, USA. </p>
<p>, K.M. Irvine, E. Almberg, K. Smucker, and J. Gude. “Joint spatial modeling of relative activity and disease processes.” 2022. Poster presented at the ENVR 2022 Workshop: Environmental and Ecological Statistical Research and Applications with Societal Impacts. Provo, Utah, USA. </p>
<p>, K.M. Irvine, E. Almberg, K. Smucker, and J. Gude. “Bats &amp; Stats: Assessing Impacts of White-nose Syndrome on Western Bat Species.” 2022. Talk given at the Northern Rocky Mountain Science Center. Bozeman, Montana, USA. </p>
<p>, A. Hoegh, K.M. Irvine, K.M. Banner. 2021. “Clustering and ordination with Dirichlet process mixture models.” Invited talk given at the Joint Statistical Meetings. Virtual. </p>
<p>, J.L. Green. 2021. “Beyond normal: Understanding power through <code>R</code> Shiny.” Poster presented at the United States Conference on Teaching Statistics. Virtual. </p>
<p>, A. Hoegh, and J.L. Green. 2018. “Predicting pitch type: A case study in Bayesian hierarchical multinomial regression.” Invited talk given at the Joint Statistical Meetings. Vancouver, Canada. </p>
<p>, A. Hoegh, and J.L. Green. 2018. “Unraveling Kershaw’s dominance.” Poster presented at The Cascadia Symposium on Statistics in Sports. Vancouver, Canada. </p>
<p> and J.L. Green. 2018. “The power of technology: A Shiny applet assisted approach to teaching statistical power.” Poster presented at the Electronic Conference on Teaching Statistics. Virtual. </p>
<p><strong>Stratton, C.</strong>, A. Hoegh, A. Sepulveda, and K.M. Banner. 2020. “<code>msocc</code>.” <code>R</code> package to support computationally efficient implementation of Bayesian multi-scale occupancy models. </p>
<!-- experience -->
<p> Bozeman, MT</p>
<p> July 2022 | Present</p>
<p>Advisors: Dr.&nbsp;Kathryn Irvine (USGS) and Dr.&nbsp;Katharine Banner (MSU)</p>
<p> Bozeman, MT</p>
<p> August 2020 | July 2022</p>
<p>Supervisor: Dr.&nbsp;Kathryn Irvine (USGS)</p>
<p> Bozeman, MT</p>
<p> June 2019 | December 2019</p>
<p> Bozeman, MT</p>
<p> January 2019 | August 2020</p>
<p> Bozeman, MT</p>
<p> August 2017 | May 2018</p>
<p> Bozeman, MT</p>
<p> January 2017 | December 2018</p>
<p> Bozeman, MT</p>
<p> August 2014 | December 2016</p>
<!-- teaching experience -->
<p><strong>Guest Lecturer</strong> Bozeman, MT</p>
<p><em>STAT 408: Statistical Computing and Graphics Analysis</em> S22</p>
<p>Provided guest lectures on data visualization with the <code>tidyverse</code> and implementing version control software in statistical analyses to undergraduate-level statistics students. </p>
<p><strong>Guest Lecturer</strong> Bozeman, MT</p>
<p><em>STAT 402/502: Intermediate Mathematical Statistics</em> S19</p>
<p>Provided guest lecture on interpreting statistical power to undergraduate-level and graduate-level mathematical statistics students using an <code>R Shiny</code> app I created. </p>
<p><strong>Teaching Assistant</strong> Bozeman, MT</p>
<p><em>STAT 411/511: Methods for Data Analysis I</em> S19</p>
<p>Teaching assistant responsibilities included: grading homeworks and exams, writing and leading interactive lab assignments, and providing intermittent lectures on coding in <code>R</code> with an emphasis on data visualization. </p>
<p><strong>Instructor of Record</strong> Bozeman, MT</p>
<p><em>STAT 217: Intermediate Statistical Concepts</em> F18</p>
<p>Lead instructor responsibilities included: leading lectures, writing lecture notes, writing and grading homeworks and exams, writing lab assignments, and supervising teaching assistants. </p>
<p><strong>Instructor of Record</strong> Bozeman, MT</p>
<p><em>STAT 216: Introduction to Statistics</em> S17, F17, S18</p>
<p>Lead instructor responsibilities included: leading lectures, writing lecture notes, writing and grading homeworks and exams, and writing lab assignments </p>
<!-- service -->
<p><strong>Montana Chapter of the American Statistical Association</strong> Bozeman, MT</p>
<p><em>Chapter Secretary and Council of Chapters Representative</em> Sept 2022 | Present</p>
<p>Responsibilities included facilitating coordination of annual meetings, keeping meeting notes, and attending the CoC session at the Joint Statistical Meetings. </p>
<p><strong>Bozeman Environmental and Ecological Statistics (BEES)</strong> Bozeman, MT</p>
<p><em>Co-President</em> Sept 2022 | Present</p>
<p>The BEES research group is an group focused on mentoring graduate students with interest in statistical research motivated by environmental and ecological applications. Responsibilities as co-president include coordinating bi-weekly meetings, mentoring graduate students, providing papers for literature review sessions, maintaining the group website, and coordinating invited speaker presentations. </p>
<p><strong>Annals of Applied Statistics</strong></p>
<p><em>Referee</em> </p>
<p>Refereed papers for the <em>Annals of Applied Statistics</em> journal. </p>
<p><strong>Montana State University STEAM Day</strong> Bozeman, MT</p>
<p><em>Workshop Presenter</em> April 2023</p>
<p>MSU STEAM Day is a one-day conference that includes hands-on workshops in the STEAM fields of science, technology, engineering, art and math for girls in grades six, seven, and eight. Responsibilities included presenting an interactive activity introducing statistical inference using the dice game Pass the Pigs. </p>
<p><strong>DataFest</strong> Bozeman, MT</p>
<p><em>Volunteer judge</em> , 2022</p>
<p>Volunteer responsibilities included providing guidance to undergraduate-level and graduate-level students competing in DataFest competition. </p>
<!-- awards -->
<p> Bozeman, MT</p>
<p>Finalist for the Three Minute Thesis competition February 2020</p>
<p> Bozeman, MT</p>
<p>Recognition of outstanding graduate student teaching May 2018</p>
<p> Bozeman, MT</p>
<p>Recognition of superior academic achievement among graduate students May 2017</p>
<p> Bozeman, MT</p>
<p>Recipient of scholarship for outstanding academic achievement January 2017</p>
<p> Bozeman, MT</p>
<p>Recipient of scholarship for outstanding academic achievement August 2016</p>
<p> Bozeman, MT</p>
<p>Recognition of superior academic achievement among undergraduate students May 2016</p>
<p> Bozeman, MT</p>
<p>Recognition of superior academic performance May 2016</p>
<p> Bozeman, MT</p>
<p>Scholarship for outstanding academic performance December 2015</p>
<p> Bozeman, MT</p>
<p>Member of Phi Kappa Phi, a national multi-disciplinary honor society March 2015</p>
<p> Bozeman, MT</p>
<p>Member of Pi Mu Epsilon, a national mathematics honor society December 2014</p>
<!-- references -->



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>